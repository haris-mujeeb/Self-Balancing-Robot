\doxysection{voltage.\+hpp}
\hypertarget{voltage_8hpp_source}{}\label{voltage_8hpp_source}\index{test/plotPID/voltage.hpp@{test/plotPID/voltage.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#include\ "{}Arduino.h"{}}\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Include\ Arduino\ core\ library\ for\ basic\ functions}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#include\ <stdint.h>}\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Include\ standard\ integer\ types\ for\ fixed-\/size\ data\ types}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}pins.hpp"{}}\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Include\ custom\ header\ for\ pin\ definitions}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}debugConfig.h"{}}\ \ \ \ \ \ \textcolor{comment}{//\ Include\ debug\ configuration\ for\ serial\ output}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{comment}{//\ External\ variable\ declaration}}
\DoxyCodeLine{00007\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{float}\ last\_value;\ \ \ \ \ \ }
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00016\ \textcolor{keywordtype}{void}\ voltage\_init()\ \{}
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{comment}{//\ Initialization\ logic\ for\ the\ voltage\ reading\ hardware.}}
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{comment}{//\ For\ example,\ setting\ up\ the\ pinMode\ for\ voltage\ input,\ configuring\ ADC\ settings,\ etc.}}
\DoxyCodeLine{00019\ \ \ \ \ pinMode(VOLTAGE\_PIN,\ INPUT);\ \ \ \textcolor{comment}{//\ Set\ the\ voltage\ sensing\ pin\ as\ input}}
\DoxyCodeLine{00020\ \ \ \ \ analogReadResolution(12);\ \ \ \ \ \ \textcolor{comment}{//\ Set\ the\ analog\ resolution\ (e.g.,\ 12-\/bit\ ADC)}}
\DoxyCodeLine{00021\ \ \ \ \ last\_value\ =\ 0;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Initialize\ the\ last\_value\ to\ 0\ (or\ an\ appropriate\ baseline)}}
\DoxyCodeLine{00022\ \ \ \ \ }
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\ \ \ \ \#ifdef\ DEBUG\_VOLTAGE\ \ }\textcolor{comment}{//\ If\ voltage\ debug\ mode\ is\ enabled\ in\ the\ configuration}}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ DEBUG\_PRINT(DEBUG\_VOLTAGE,\ \textcolor{stringliteral}{"{}Voltage\ sensor\ initialized."{}});}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\ \ \ \ \#endif}}
\DoxyCodeLine{00026\ \}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00037\ \textcolor{keywordtype}{float}\ voltage\_read()\ \{}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{comment}{//\ Read\ the\ raw\ analog\ value\ from\ the\ voltage\ sensor\ pin}}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keywordtype}{int}\ sensor\_value\ =\ analogRead(VOLTAGE\_PIN);}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{comment}{//\ Convert\ the\ sensor\ value\ to\ actual\ voltage\ based\ on\ reference\ voltage\ (assumes\ 3.3V\ system)}}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keywordtype}{float}\ voltage\ =\ sensor\_value\ *\ (3.3\ /\ 4095.0);\ \ \textcolor{comment}{//\ For\ a\ 12-\/bit\ ADC,\ 4095\ is\ the\ maximum\ value}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{comment}{//\ Store\ the\ current\ value\ as\ the\ last\_value\ for\ future\ comparisons\ or\ calculations}}
\DoxyCodeLine{00045\ \ \ \ \ last\_value\ =\ voltage;}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \textcolor{preprocessor}{\ \ \ \ \#ifdef\ DEBUG\_VOLTAGE\ \ }\textcolor{comment}{//\ If\ voltage\ debug\ mode\ is\ enabled}}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ String\ debugMsg\ =\ \textcolor{stringliteral}{"{}Voltage\ reading:\ "{}}\ +\ String(voltage)\ +\ \textcolor{stringliteral}{"{}V"{}};}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ DEBUG\_PRINT(DEBUG\_VOLTAGE,\ debugMsg);\ \ \textcolor{comment}{//\ Print\ the\ voltage\ reading\ to\ serial\ for\ debugging}}
\DoxyCodeLine{00050\ \textcolor{preprocessor}{\ \ \ \ \#endif}}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordflow}{return}\ voltage;\ \ \textcolor{comment}{//\ Return\ the\ measured\ voltage\ value}}
\DoxyCodeLine{00053\ \}}

\end{DoxyCode}
